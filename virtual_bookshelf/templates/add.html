{% extends 'base.html' %}
{% block head %}
    {{ super() }}
    <meta name="description" content="Add a new book to the virtual bookshelf.">
    <title>Add book - My Virtual Bookshelf</title>
{% endblock head %}
{% block content %}
<main class="container">
    <h1>Add new book</h1>
    {% with errors = get_flashed_messages(category_filter=["error"]) %}
    {% if errors %}
        <ul class="error-list list-group">
        {% for error in errors %}
            <li class="list-group-item list-group-item-danger">
                <strong>Error: {{ error }}</strong>
            </li>
        {% endfor %}
        </ul>
    {% endif %}
    {% endwith %}
    <form action="{{ url_for('bookshelf.add_book') }}" method="post" novalidate>
        {% if form.csrf_token %}
            {{ form.csrf_token }}
            {% if form.csrf_token.errors %}
                <div class="warning">You have submitted an invalid CSRF token</div>
            {% endif %}
        {% endif %}
        {{ render_field(form.book_title) }}
        {{ render_field(form.book_author) }}
        {{ render_field(form.book_rating) }}
        {{ render_field(form.submit_btn, button_style='dark') }}
        <a class="btn btn-dark btn-md" href="{{ url_for('index') }}">Cancel</a>
    </form>
</main>
{% endblock content %}
